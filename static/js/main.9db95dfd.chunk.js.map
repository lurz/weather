{"version":3,"sources":["index.js","images/wicons sync /^/.//.*/.svg$","images/wicons/cloudy-day-1.svg","images/wicons/cloudy-day-2.svg","images/wicons/cloudy-day-3.svg","images/wicons/cloudy-night-1.svg","images/wicons/cloudy-night-2.svg","images/wicons/cloudy-night-3.svg","images/wicons/cloudy.svg","images/wicons/day.svg","images/wicons/night.svg","images/wicons/rainy-1.svg","images/wicons/rainy-2.svg","images/wicons/rainy-3.svg","images/wicons/rainy-4.svg","images/wicons/rainy-5.svg","images/wicons/rainy-6.svg","images/wicons/rainy-7.svg","images/wicons/snowy-1.svg","images/wicons/snowy-2.svg","images/wicons/snowy-3.svg","images/wicons/snowy-4.svg","images/wicons/snowy-5.svg","images/wicons/snowy-6.svg","images/wicons/thunder.svg","images/wicons/weather-sprite.svg","images/wicons/weather.svg","images/wicons/weather_sagittarius.svg","images/wicons/weather_sunset.svg"],"names":["Card","className","src","require","this","props","cond","alt","temp","dt","React","Component","FiveDay","state","weather","currentCity","currentCountry","options","weekday","month","day","console","log","url","fetch","then","response","ok","Error","statusText","json","data","five","i","list","one","current","Date","toLocaleString","Math","round","main","id","push","setState","city","name","country","catch","error","prevProps","fetchData","cards","forEach","Index","apiKey","setCity","setCityId","cityList","searchValue","cityName","cityData","length","toUpperCase","e","target","value","preventDefault","searchCity","getCityId","String","alert","navBars","c","onClick","handleClick","onSubmit","handleSubmit","type","onChange","handleChange","ReactDOM","render","document","getElementById","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/main.9db95dfd.chunk.js","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './style/weather.css'\nimport cityData from './images/city.list.json'\nimport trie from 'trie-prefix-tree';\n\nclass Card extends React.Component {\n    render() {\n        return(\n            <div className=\"weather-card\">\n                <div className=\"weather-icon\">\n                    <img src={require(\"./images/wicons/\" + this.props.cond + \".svg\")} alt=\"icon\" />\n                </div>\n                <h1>{this.props.temp}ยบ</h1>\n                <p>{this.props.dt}</p>\n            </div>\n        );\n    }\n}\n\nfunction wIcon(cond){\n    let result;\n    if( cond >= 200 && cond < 300 ){\n        result = \"thunder\";\n    }else if(cond < 500){\n        result = \"rainy-4\";\n    }else if(cond < 600){\n        result = \"rainy-6\";\n    }else if(cond < 700){\n        result = \"snowy-5\";\n    }else if(cond < 800){\n        result = \"cloudy-day-1\";\n    }else if(cond === 800){\n        result = \"day\";\n    }else{\n        result = \"cloudy\";\n    }\n    return result;\n}\n\nclass FiveDay extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            weather: [],\n            currentCity: '',\n            currentCountry: '',\n        };\n    }\n\n    fetchData(){\n        const options = { weekday: 'short', month: 'short', day: '2-digit' };\n\n        console.log(this.props.url);\n        fetch(this.props.url)\n        .then((response) => {\n            if (!response.ok) throw Error(response.statusText);\n            return response.json();\n        })\n        .then((data) => {\n            console.log(data);\n            let five = [];\n            for(let i in data.list){\n                if(i % 8 === 3){\n                    let one = {};\n                    let current = data.list[i];\n                    let dt = new Date(current.dt * 1000);\n                    one[\"dt\"] = dt.toLocaleString('en-US', options);\n                    one[\"temp\"] = Math.round(current.main.temp);\n                    one[\"cond\"] = wIcon(current.weather[0].id);\n                    five.push(one);\n                }\n            }\n            console.log(five);\n            this.setState({\n                currentCity: data.city.name,\n                currentCountry: data.city.country,\n                weather: five,\n            });\n\n\n        })\n        .catch(error => console.log(error)); // eslint-disable-line no-console\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.url !== prevProps.url) {\n            this.fetchData();\n        }\n      }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    render() {\n        const cards = [];\n        this.state.weather.forEach((day) => {\n            cards.push(<Card dt={day.dt} temp={day.temp} cond={day.cond} />);\n        });\n\n        return(\n            <div className=\"weather-large\">\n                <div className=\"weather-header\">\n                    <h1>{this.state.currentCity}, {this.state.currentCountry}</h1>\n                </div>\n                <div className=\"weather-wrapper\">\n                    {cards}\n                </div>\n            </div>\n           \n        );\n    }\n}\n\n\n\nclass Index extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            apiKey: \"312b1bac995abc93b80f070e12bc0b95\",\n            setCity: \"Ann Arbor\",\n            setCityId: \"4984247\",\n            cityList: [{\"name\":\"Ann Arbor\",\"id\": \"4984247\"},{\"name\":\"Beijing\",\"id\": \"1816670\"}],\n            searchValue: '',\n\n        }\n    }\n\n    getCityId(cityName){\n       for(let i = 0; i < cityData.length; i++){\n           if(cityData[i].name.toUpperCase() === cityName.toUpperCase()){\n               return cityData[i].id;\n           }\n       }\n       return null;\n    }\n\n    handleClick(e){\n        console.log(e.target.value);        \n        this.setState({\n            setCity: e.target.value,\n            setCityId: e.target.id,\n        });\n        return;\n    }\n\n    handleSubmit(e){\n        e.preventDefault();\n        let searchCity = this.state.searchValue;\n        let id = this.getCityId(searchCity);\n        if(!id){\n            alert(\"Current city \" + searchCity + \" is not available.\");\n            return;\n        }\n        this.setState({\n            setCity: searchCity,\n            setCityId: String(id),\n            cityList: [...this.state.cityList, {\"name\":searchCity, \"id\":String(id)}],\n            searchValue: '',\n        });\n\n    }\n\n    handleChange(e) {\n        this.setState({\n            searchValue: e.target.value\n        });\n    }\n\n    render(){\n        const navBars = [];\n        this.state.cityList.forEach((c) => {\n            navBars.push(<li><button onClick={(e) => this.handleClick(e)} value={c.name} id={c.id}>{c.name}</button></li>);\n        });\n\n        return (\n        <div>\n            <div className=\"header-content\">\n                <nav className=\"header-nav-wrap\">\n                        <ul className=\"header-nav\">\n                            <li><button>My Weather</button></li>\n                            {navBars}\n                            <div className=\"search-container\">\n                                <form onSubmit={(e) => this.handleSubmit(e)}>\n                                <input type=\"text\" value={this.state.searchValue} onChange={(e) => this.handleChange(e)}></input>\n                                <button type=\"submit\"><i className=\"fa fa-search\"></i></button>\n                                </form>\n                            </div>\n                        </ul>\n                </nav>\n            </div>\n            <FiveDay url={\"https://api.openweathermap.org/data/2.5/forecast?units=metric&id=\"+this.state.setCityId+\"&appid=\"+this.state.apiKey} />\n        </div>\n        \n        );\n    }\n}\n\nReactDOM.render(\n    <Index />,\n    document.getElementById('root')\n);","var map = {\n\t\"./cloudy-day-1.svg\": 27,\n\t\"./cloudy-day-2.svg\": 28,\n\t\"./cloudy-day-3.svg\": 29,\n\t\"./cloudy-night-1.svg\": 30,\n\t\"./cloudy-night-2.svg\": 31,\n\t\"./cloudy-night-3.svg\": 32,\n\t\"./cloudy.svg\": 33,\n\t\"./day.svg\": 34,\n\t\"./night.svg\": 35,\n\t\"./rainy-1.svg\": 36,\n\t\"./rainy-2.svg\": 37,\n\t\"./rainy-3.svg\": 38,\n\t\"./rainy-4.svg\": 39,\n\t\"./rainy-5.svg\": 40,\n\t\"./rainy-6.svg\": 41,\n\t\"./rainy-7.svg\": 42,\n\t\"./snowy-1.svg\": 43,\n\t\"./snowy-2.svg\": 44,\n\t\"./snowy-3.svg\": 45,\n\t\"./snowy-4.svg\": 46,\n\t\"./snowy-5.svg\": 47,\n\t\"./snowy-6.svg\": 48,\n\t\"./thunder.svg\": 49,\n\t\"./weather-sprite.svg\": 50,\n\t\"./weather.svg\": 51,\n\t\"./weather_sagittarius.svg\": 52,\n\t\"./weather_sunset.svg\": 53\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 26;","module.exports = __webpack_public_path__ + \"static/media/cloudy-day-1.80a5d865.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-day-2.b931d84d.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-day-3.109368f6.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-night-1.7e65840b.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-night-2.ef1c6aa1.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-night-3.bf91ac0f.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy.ad789581.svg\";","module.exports = __webpack_public_path__ + \"static/media/day.7f93fbdb.svg\";","module.exports = __webpack_public_path__ + \"static/media/night.a3f3f38d.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-1.f134a51c.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-2.35eb268d.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-3.c17e7a5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-4.c8cdb216.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-5.2bd23641.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-6.d235ab65.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-7.c915395f.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-1.f78cba60.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-2.d103c77c.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-3.b6eea2cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-4.474b6da7.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-5.3def7c9f.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-6.67d63a14.svg\";","module.exports = __webpack_public_path__ + \"static/media/thunder.7142c78b.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather-sprite.2738019d.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather.56c46d80.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather_sagittarius.166882bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather_sunset.cf01f54e.svg\";"],"sourceRoot":""}