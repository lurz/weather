(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],Array(19).concat([function(e,t,a){e.exports=a(58)},,,,,,,,,,function(e,t,a){},function(e,t,a){var n={"./cloudy-day-1.svg":31,"./cloudy-day-2.svg":32,"./cloudy-day-3.svg":33,"./cloudy-night-1.svg":34,"./cloudy-night-2.svg":35,"./cloudy-night-3.svg":36,"./cloudy.svg":37,"./day.svg":38,"./night.svg":39,"./rainy-1.svg":40,"./rainy-2.svg":41,"./rainy-3.svg":42,"./rainy-4.svg":43,"./rainy-5.svg":44,"./rainy-6.svg":45,"./rainy-7.svg":46,"./snowy-1.svg":47,"./snowy-2.svg":48,"./snowy-3.svg":49,"./snowy-4.svg":50,"./snowy-5.svg":51,"./snowy-6.svg":52,"./thunder.svg":53,"./weather-sprite.svg":54,"./weather.svg":55,"./weather_sagittarius.svg":56,"./weather_sunset.svg":57};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=30},function(e,t,a){e.exports=a.p+"static/media/cloudy-day-1.80a5d865.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-day-2.b931d84d.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-day-3.109368f6.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-night-1.7e65840b.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-night-2.ef1c6aa1.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-night-3.bf91ac0f.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy.ad789581.svg"},function(e,t,a){e.exports=a.p+"static/media/day.7f93fbdb.svg"},function(e,t,a){e.exports=a.p+"static/media/night.a3f3f38d.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-1.f134a51c.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-2.35eb268d.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-3.c17e7a5d.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-4.c8cdb216.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-5.2bd23641.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-6.d235ab65.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-7.c915395f.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-1.f78cba60.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-2.d103c77c.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-3.b6eea2cf.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-4.474b6da7.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-5.3def7c9f.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-6.67d63a14.svg"},function(e,t,a){e.exports=a.p+"static/media/thunder.7142c78b.svg"},function(e,t,a){e.exports=a.p+"static/media/weather-sprite.2738019d.svg"},function(e,t,a){e.exports=a.p+"static/media/weather.56c46d80.svg"},function(e,t,a){e.exports=a.p+"static/media/weather_sagittarius.166882bc.svg"},function(e,t,a){e.exports=a.p+"static/media/weather_sunset.cf01f54e.svg"},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),s=a(2),c=a(6),o=a(13),d=(a(28),a(5)),u=a(3),l=function(e){return{type:"SELECT_CITY",cityName:e}},p=function(e){return{type:"INVALIDATE_WEATHER",cityName:e}},y=function(e){return{type:"REQUEST_WEATHER",cityName:e}};function m(e){var t,a={weekday:"short",month:"short",day:"2-digit"},n=[];for(var r in e)if(r%8===0){var i={},s=e[r],c=new Date(1e3*s.dt);i.dt=c.toLocaleString("en-US",a),i.temp=Math.round(s.main.temp),i.cond=(t=s.weather[0].id)>=200&&t<300?"thunder":t<500?"rainy-4":t<600?"rainy-6":t<700?"snowy-5":t<800?"cloudy-day-1":800===t?"day":"cloudy",n.push(i)}return n}var h=function(e){return function(t){return t(y),fetch("https://api.openweathermap.org/data/2.5/forecast?units=metric&q=".concat(e,"&appid=312b1bac995abc93b80f070e12bc0b95")).then((function(e){return e.json()})).then((function(a){"404"===a.cod?t({type:"ADD_ERROR",message:a.message}):t(function(e,t){return{type:"RECEIVE_WEATHER",cityName:e,weathers:m(t.list),getCityName:t.city.name,getCountryName:t.city.country,receivedAt:Date.now()}}(e,a))}))}},f=function(e){return function(t,a){if(function(e,t){if(e.weatherByCity.hasOwnProperty(t)){var a=e.weatherByCity[t];return!a.isFetching&&a.didInvalidate}return!0}(a(),e))return t(h(e))}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_WEATHER":return Object(u.a)({},e,{didInvalidate:!0});case"REQUEST_WEATHER":return Object(u.a)({},e,{didInvalidate:!1,isFetching:!0});case"RECEIVE_WEATHER":return Object(u.a)({},e,{didInvalidate:!1,isFetching:!1,lastUpdated:t.receivedAt,items:t.weathers,getCityName:t.getCityName,getCountryName:t.getCountryName});default:return e}},g=Object(s.c)({selectedCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ann arbor",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_CITY":case"SEARCH_CITY":return t.cityName;default:return e}},enteredCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTER_CITY":return t.content.toLowerCase();default:return e}},errorStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return t.message;case"REMOVE_ERROR":return"";default:return e}},weatherByCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_WEATHER":case"REQUEST_WEATHER":case"RECEIVE_WEATHER":return Object(u.a)({},e,Object(d.a)({},t.cityName,v(e[t.cityName],t)));default:return e}}}),E=a(14),C=a(15),w=a(17),b=a(16),N=a(18),R=(a(29),a(1)),x=a.n(R),T=function(e){var t=e.cond,n=e.temp,i=e.dt;return r.a.createElement("div",{className:"weather-card"},r.a.createElement("div",{className:"weather-icon"},r.a.createElement("img",{src:a(30)("./"+t+".svg"),alt:"icon"})),r.a.createElement("h1",null,n,"\xba"),r.a.createElement("p",null,i))};T.protoTypes={cond:x.a.string.isRequired,temp:x.a.number.isRequired,dt:x.a.string.isRequired};var O=T,_=function(e){var t=e.weathers,a=e.getCityName,n=e.getCountryName,i=e.lastUpdated,s=e.handleRefresh;return r.a.createElement("div",{className:"weather-large"},r.a.createElement("div",{className:"weather-header"},r.a.createElement("h1",null,a,", ",n," "),r.a.createElement("span",null,"Last Updated: ",new Date(i).toLocaleTimeString()),r.a.createElement("button",{className:"refresh",onClick:function(e){return s(e)}}," ",r.a.createElement("i",{className:"fa fa-refresh fa-spin fa-2x fa-fw"}))),r.a.createElement("div",{className:"weather-wrapper"},t.map((function(e){return r.a.createElement(O,{dt:e.dt,temp:e.temp,cond:e.cond})}))))};_.protoTypes={weathers:x.a.array.isRequired,getCityName:x.a.string.isRequired,getCountryName:x.a.string.isRequired,handleRefresh:x.a.func.isRequired};var A=_,I=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleRefresh=function(e){e.preventDefault();var t=a.props,n=t.dispatch,r=t.selectedCity;n(p(r)),n(f(r))},a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.selectedCity;t(f(a))}},{key:"componentDidUpdate",value:function(e){if(e.selectedCity!==this.props.selectedCity){var t=this.props,a=t.dispatch,n=t.selectedCity;a(f(n))}}},{key:"handleClick",value:function(e){console.log(e.target.value),this.props.dispatch(l(e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,a=t.dispatch,n=t.enteredCity;a({type:"SEARCH_CITY",cityName:n}),a(f(this.props.selectedCity))}},{key:"handleChange",value:function(e){this.props.dispatch({type:"ENTER_CITY",content:e.target.value})}},{key:"handleError",value:function(){var e=this.props.dispatch;e({type:"REMOVE_ERROR"}),e(l("ann arbor"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.weathers,n=t.getCityName,i=t.getCountryName,s=t.cityList,c=t.lastUpdated,o=t.isFetching,d=t.errorStatus,u=[];return s.forEach((function(t){u.push(r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return e.handleClick(t)},value:t},t)))})),r.a.createElement("div",null,r.a.createElement("div",{className:"header-content"},r.a.createElement("nav",{className:"header-nav-wrap"},r.a.createElement("ul",{className:"header-nav"},r.a.createElement("li",null,r.a.createElement("button",null,"My Weather")),u,r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"text",value:this.props.enteredCity,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"}))))))),d?r.a.createElement("div",{className:"errors"},r.a.createElement("h1",null,d),r.a.createElement("button",{onClick:function(){return e.handleError()}},"confirm")):o?r.a.createElement("i",{className:"loading fa fa-spinner fa-spin fa-3x fa-fw"}):r.a.createElement(A,{weathers:a,getCityName:n,getCountryName:i,lastUpdated:c,handleRefresh:this.handleRefresh}))}}]),t}(n.Component),k=Object(c.b)((function(e){var t=e.selectedCity,a=e.enteredCity,n=e.weatherByCity,r=e.errorStatus,i=n[t]||{isFetching:!0,items:[],getCityName:"",getCountryName:""},s=i.isFetching,c=i.lastUpdated;return{selectedCity:t,enteredCity:a,errorStatus:r,weathers:i.items,isFetching:s,lastUpdated:c,getCityName:i.getCityName,getCountryName:i.getCountryName,cityList:Object.keys(n)}}))(I),j=[o.a];var S=Object(s.d)(g,s.a.apply(void 0,j));Object(i.render)(r.a.createElement(c.a,{store:S},r.a.createElement(k,null)),document.getElementById("root"))}]),[[19,1,2]]]);
//# sourceMappingURL=main.6db47de4.chunk.js.map