{"version":3,"sources":["images/wicons sync /^/.//.*/.svg$","images/wicons/cloudy-day-1.svg","images/wicons/cloudy-day-2.svg","images/wicons/cloudy-day-3.svg","images/wicons/cloudy-night-1.svg","images/wicons/cloudy-night-2.svg","images/wicons/cloudy-night-3.svg","images/wicons/cloudy.svg","images/wicons/day.svg","images/wicons/night.svg","images/wicons/rainy-1.svg","images/wicons/rainy-2.svg","images/wicons/rainy-3.svg","images/wicons/rainy-4.svg","images/wicons/rainy-5.svg","images/wicons/rainy-6.svg","images/wicons/rainy-7.svg","images/wicons/snowy-1.svg","images/wicons/snowy-2.svg","images/wicons/snowy-3.svg","images/wicons/snowy-4.svg","images/wicons/snowy-5.svg","images/wicons/snowy-6.svg","images/wicons/thunder.svg","images/wicons/weather-sprite.svg","images/wicons/weather.svg","images/wicons/weather_sagittarius.svg","images/wicons/weather_sunset.svg","actions/index.js","reducers/index.js","components/Card.js","components/FiveDay.js","containers/App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","selectCity","cityName","type","invalidateWeather","requestWeather","getWeathers","data","cond","options","weekday","month","day","five","i","one","current","dt","Date","toLocaleString","Math","round","main","temp","weather","push","fetchWeather","dispatch","fetch","then","response","json","cod","message","weathers","list","getCityName","city","name","getCountryName","country","receivedAt","now","receiveWeather","fetchWeatherIfNeeded","getState","state","weatherByCity","hasOwnProperty","isFetching","didInvalidate","shouldFetchWeather","items","action","lastUpdated","rootReducer","combineReducers","selectedCity","enteredCity","content","toLowerCase","errorStatus","Card","className","src","require","alt","protoTypes","PropTypes","string","isRequired","number","FiveDay","handleRefresh","toLocaleTimeString","onClick","w","array","func","App","preventDefault","props","this","prevProps","console","log","target","value","cityList","navBars","forEach","c","handleClick","onSubmit","handleSubmit","onChange","handleChange","handleError","Component","connect","middleware","thunk","store","createStore","reducer","applyMiddleware","render","document","getElementById"],"mappings":"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","file":"static/js/main.6db47de4.chunk.js","sourcesContent":["var map = {\n\t\"./cloudy-day-1.svg\": 31,\n\t\"./cloudy-day-2.svg\": 32,\n\t\"./cloudy-day-3.svg\": 33,\n\t\"./cloudy-night-1.svg\": 34,\n\t\"./cloudy-night-2.svg\": 35,\n\t\"./cloudy-night-3.svg\": 36,\n\t\"./cloudy.svg\": 37,\n\t\"./day.svg\": 38,\n\t\"./night.svg\": 39,\n\t\"./rainy-1.svg\": 40,\n\t\"./rainy-2.svg\": 41,\n\t\"./rainy-3.svg\": 42,\n\t\"./rainy-4.svg\": 43,\n\t\"./rainy-5.svg\": 44,\n\t\"./rainy-6.svg\": 45,\n\t\"./rainy-7.svg\": 46,\n\t\"./snowy-1.svg\": 47,\n\t\"./snowy-2.svg\": 48,\n\t\"./snowy-3.svg\": 49,\n\t\"./snowy-4.svg\": 50,\n\t\"./snowy-5.svg\": 51,\n\t\"./snowy-6.svg\": 52,\n\t\"./thunder.svg\": 53,\n\t\"./weather-sprite.svg\": 54,\n\t\"./weather.svg\": 55,\n\t\"./weather_sagittarius.svg\": 56,\n\t\"./weather_sunset.svg\": 57\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 30;","module.exports = __webpack_public_path__ + \"static/media/cloudy-day-1.80a5d865.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-day-2.b931d84d.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-day-3.109368f6.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-night-1.7e65840b.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-night-2.ef1c6aa1.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy-night-3.bf91ac0f.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy.ad789581.svg\";","module.exports = __webpack_public_path__ + \"static/media/day.7f93fbdb.svg\";","module.exports = __webpack_public_path__ + \"static/media/night.a3f3f38d.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-1.f134a51c.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-2.35eb268d.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-3.c17e7a5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-4.c8cdb216.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-5.2bd23641.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-6.d235ab65.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy-7.c915395f.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-1.f78cba60.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-2.d103c77c.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-3.b6eea2cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-4.474b6da7.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-5.3def7c9f.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowy-6.67d63a14.svg\";","module.exports = __webpack_public_path__ + \"static/media/thunder.7142c78b.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather-sprite.2738019d.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather.56c46d80.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather_sagittarius.166882bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather_sunset.cf01f54e.svg\";","export const REQUEST_WEATHER = 'REQUEST_WEATHER'\nexport const RECEIVE_WEATHER = 'RECEIVE_WEATHER'\nexport const SELECT_CITY = 'SELECT_CITY'\nexport const SEARCH_CITY = 'SEARCH_CITY'\nexport const ENTER_CITY = 'ENTER_CITY'\nexport const INVALIDATE_WEATHER = 'INVALIDATE_WEATHER'\nexport const ADD_ERROR = 'ADD_ERROR'\nexport const REMOVE_ERROR = 'REMOVE_ERROR'\n\nexport const selectCity = cityName => ({\n    type: SELECT_CITY,\n    cityName\n})\n\nexport const searchCity = cityName => ({\n    type: SEARCH_CITY,\n    cityName\n})\n\nexport const enterCity = content => ({\n    type: ENTER_CITY,\n    content\n})\n\nexport const invalidateWeather = cityName => ({\n    type: INVALIDATE_WEATHER,\n    cityName\n})\n\nexport const addError = message => ({\n    type: ADD_ERROR,\n    message\n})\n\nexport const removeError = () => ({\n    type: REMOVE_ERROR\n})\n\nexport const requestWeather = cityName => ({\n    type: REQUEST_WEATHER,\n    cityName\n})\n\nfunction wIcon(cond){\n    let result;\n    if( cond >= 200 && cond < 300 ){\n        result = \"thunder\";\n    }else if(cond < 500){\n        result = \"rainy-4\";\n    }else if(cond < 600){\n        result = \"rainy-6\";\n    }else if(cond < 700){\n        result = \"snowy-5\";\n    }else if(cond < 800){\n        result = \"cloudy-day-1\";\n    }else if(cond === 800){\n        result = \"day\";\n    }else{\n        result = \"cloudy\";\n    }\n    return result;\n}\n\nfunction getWeathers(data) {\n    const options = { weekday: 'short', month: 'short', day: '2-digit' };\n    let five = [];\n    for(let i in data){\n        if(i % 8 === 0){\n            let one = {};\n            let current = data[i];\n            let dt = new Date(current.dt * 1000);\n            one[\"dt\"] = dt.toLocaleString('en-US', options);\n            one[\"temp\"] = Math.round(current.main.temp);\n            one[\"cond\"] = wIcon(current.weather[0].id);\n            five.push(one);\n        }\n    }\n    return five;\n}\n\nexport const receiveWeather = (cityName, json) => ({\n    type: RECEIVE_WEATHER,\n    cityName,\n    weathers: getWeathers(json.list),\n    getCityName: json.city.name,\n    getCountryName: json.city.country,\n    receivedAt: Date.now()\n})\n\nconst fetchWeather = cityName => dispatch => {\n    dispatch(requestWeather);\n    return fetch(`https://api.openweathermap.org/data/2.5/forecast?units=metric&q=${cityName}&appid=312b1bac995abc93b80f070e12bc0b95`)\n        .then(response => response.json() )\n        .then(json => { \n            if (json.cod === '404'){\n                dispatch(addError(json.message))\n            }else{\n                dispatch(receiveWeather(cityName, json)) }\n        })\n        \n}\n\nconst shouldFetchWeather = (state, cityName) => {\n    // if(!state.weathersByCity){\n    //     console.log('not state');\n    //     return true;\n    // }\n    // console.log(state);\n    // const weathers = state.weathersByCity[cityName];\n    // if (!weathers){\n    //     console.log('not weather');\n    //     return true;\n    // }\n    // if (weathers.isFetching) {\n    //     console.log('is fetching');\n    //     return false;\n    // }\n    // console.log('invalidate');\n    // return weathers.didInvalidate;\n    if(state.weatherByCity.hasOwnProperty(cityName)){\n        // console.log(cityName);\n        const weathers = state.weatherByCity[cityName];\n        if (weathers.isFetching) {\n            return false;\n        }\n        return weathers.didInvalidate;\n    }\n    return true;\n}\n\nexport const fetchWeatherIfNeeded = cityName => (dispatch, getState) => {\n    if (shouldFetchWeather(getState(), cityName)){\n        return dispatch(fetchWeather(cityName));\n    }\n}","import { combineReducers } from 'redux'\nimport {\n  SEARCH_CITY, SELECT_CITY, ENTER_CITY, INVALIDATE_WEATHER, RECEIVE_WEATHER, REQUEST_WEATHER, ADD_ERROR, REMOVE_ERROR\n} from '../actions'\n\nconst selectedCity = (state = 'ann arbor', action) => {\n    switch (action.type) {\n        case SELECT_CITY:\n        case SEARCH_CITY:\n            return action.cityName\n        default:\n            return state\n    }\n}\n\nconst enteredCity = (state = '', action) => {\n    switch (action.type) {\n        case ENTER_CITY:\n            return action.content.toLowerCase()\n        default:\n            return state\n    }\n}\n\nconst errorStatus = (state = '', action) => {\n    switch (action.type) {\n        case ADD_ERROR:\n            return action.message\n        case REMOVE_ERROR:\n            return ''\n        default:\n            return state\n    }\n}\n \nconst weathers = (state = {isFetching: false, didInvalidate: false, items:[]}, action) => {\n    switch (action.type) {\n        case INVALIDATE_WEATHER:\n            return {\n                ...state,\n                didInvalidate: true\n            }\n        case REQUEST_WEATHER:\n            return {\n                ...state,\n                didInvalidate: false,\n                isFetching: true\n            }\n        case RECEIVE_WEATHER:\n            return {\n                ...state,\n                didInvalidate: false,\n                isFetching: false,\n                lastUpdated: action.receivedAt,\n                items: action.weathers,\n                getCityName: action.getCityName,\n                getCountryName: action.getCountryName\n            }\n        default:\n            return state\n    }\n}\n\nconst weatherByCity = (state = { }, action) => {\n    switch (action.type) {\n        case INVALIDATE_WEATHER:\n        case REQUEST_WEATHER:\n        case RECEIVE_WEATHER:\n            return {\n                ...state,\n                [action.cityName]: weathers(state[action.cityName], action)\n            }\n        default:\n            return state\n    }\n}\n\nconst rootReducer = combineReducers({\n    selectedCity,\n    enteredCity,\n    errorStatus,\n    weatherByCity\n})\n\nexport default rootReducer\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Card = ({cond, temp, dt}) => (\n    <div className=\"weather-card\">\n        <div className=\"weather-icon\">\n            <img src={require(\"../images/wicons/\" + cond + \".svg\")} alt=\"icon\" />\n        </div>\n        <h1>{temp}ยบ</h1>\n        <p>{dt}</p>\n    </div>\n)\n\nCard.protoTypes = {\n    cond: PropTypes.string.isRequired,\n    temp: PropTypes.number.isRequired,\n    dt: PropTypes.string.isRequired\n}\n\nexport default Card\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Card from './Card'\n\nconst FiveDay = ({weathers, getCityName, getCountryName, lastUpdated, handleRefresh}) => (\n    <div className=\"weather-large\">\n        <div className=\"weather-header\">\n            <h1>{getCityName}, {getCountryName} </h1>\n            <span>Last Updated: {new Date(lastUpdated).toLocaleTimeString()}</span>\n            <button className=\"refresh\" onClick={(e) => handleRefresh(e)}> <i className=\"fa fa-refresh fa-spin fa-2x fa-fw\"></i></button>\n        </div>\n        <div className=\"weather-wrapper\">\n            {weathers.map(w => (<Card dt={w.dt} temp={w.temp} cond={w.cond} />))}\n        </div>\n    </div>\n   \n)\n\nFiveDay.protoTypes = {\n    weathers: PropTypes.array.isRequired,\n    getCityName: PropTypes.string.isRequired,\n    getCountryName: PropTypes.string.isRequired,\n    handleRefresh: PropTypes.func.isRequired\n}\n\nexport default FiveDay","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { selectCity, searchCity, enterCity, fetchWeatherIfNeeded, invalidateWeather, removeError } from '../actions'\nimport '../style/weather.css'\n// import cityData from '../images/city.list.json'\nimport FiveDay from '../components/FiveDay'\n\n\nclass App extends Component {\n    static propTypes = {\n        selectedCity: PropTypes.string.isRequired,\n        enteredCity: PropTypes.string.isRequired,\n        errorStatus: PropTypes.string.isRequired,\n        weathers: PropTypes.array.isRequired,\n        cityList: PropTypes.array.isRequired,\n        isFetching: PropTypes.bool.isRequired,\n        lastUpdated: PropTypes.number,\n        getCityName: PropTypes.string.isRequired,\n        getCountryName: PropTypes.string.isRequired,\n        dispatch: PropTypes.func.isRequired\n    }\n\n    componentDidMount() {\n        const {dispatch, selectedCity} = this.props;\n        dispatch(fetchWeatherIfNeeded(selectedCity));\n    }\n\n    componentDidUpdate(prevProps) {\n        if(prevProps.selectedCity !== this.props.selectedCity){\n            const {dispatch, selectedCity} = this.props;\n            dispatch(fetchWeatherIfNeeded(selectedCity));\n        }\n    }\n\n    handleClick(e){\n        console.log(e.target.value);\n        this.props.dispatch(selectCity(e.target.value));     \n    }\n\n    handleSubmit(e){\n        e.preventDefault();\n        const {dispatch, enteredCity} = this.props;\n        dispatch(searchCity(enteredCity));\n        dispatch(fetchWeatherIfNeeded(this.props.selectedCity));\n    }\n\n    handleChange(e) {\n        this.props.dispatch(enterCity(e.target.value));\n    }\n\n    handleRefresh = (e) => {\n        e.preventDefault();\n        const {dispatch, selectedCity} = this.props;\n        dispatch(invalidateWeather(selectedCity));\n        dispatch(fetchWeatherIfNeeded(selectedCity)); \n    }\n\n    handleError(){\n        const {dispatch} = this.props;\n        dispatch(removeError());\n        dispatch(selectCity('ann arbor'));\n    }\n\n    render(){\n        const {weathers, getCityName, getCountryName, cityList, lastUpdated, isFetching, errorStatus} = this.props;\n        const navBars = [];\n        cityList.forEach((c) => {\n            navBars.push(<li><button onClick={(e) => this.handleClick(e)} value={c} >{c}</button></li>);\n        });\n        \n        return (\n        <div>\n            <div className=\"header-content\">\n                <nav className=\"header-nav-wrap\">\n                        <ul className=\"header-nav\">\n                            <li><button>My Weather</button></li>\n                            {navBars}\n                            <div className=\"search-container\">\n                                <form onSubmit={(e) => this.handleSubmit(e)}>\n                                <input type=\"text\" value={this.props.enteredCity} onChange={(e) => this.handleChange(e)}></input>\n                                <button type=\"submit\"><i className=\"fa fa-search\"></i></button>\n                                </form>\n                            </div>\n                        </ul>\n                </nav>\n            </div>\n            {errorStatus ?\n            (<div className='errors'><h1>{errorStatus}</h1><button onClick={() => this.handleError() }>confirm</button></div>) :\n            (isFetching ? \n                <i className=\"loading fa fa-spinner fa-spin fa-3x fa-fw\"></i> : \n                <FiveDay weathers={weathers} getCityName={getCityName} getCountryName={getCountryName} lastUpdated={lastUpdated} handleRefresh={this.handleRefresh} />\n            )}\n        </div>\n        \n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const {selectedCity, enteredCity, weatherByCity, errorStatus} = state;\n    const {isFetching, lastUpdated, items: weathers, getCityName, getCountryName} = weatherByCity[selectedCity] || {isFetching: true, items: [], getCityName: '', getCountryName: ''};\n    const cityList = Object.keys(weatherByCity);\n\n\n    return {\n        selectedCity,\n        enteredCity,\n        errorStatus,\n        weathers,\n        isFetching,\n        lastUpdated,\n        getCityName,\n        getCountryName,\n        cityList\n    };\n}\n\nexport default connect(mapStateToProps)(App)\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport reducer from './reducers'\nimport App from './containers/App'\n\n\nconst middleware = [ thunk ]\nif (process.env.NODE_ENV !== 'production') {\n  middleware.push(createLogger())\n}\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(...middleware)\n)\n\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}