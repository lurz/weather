(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],Array(19).concat([function(e,t,a){e.exports=a(58)},,,,,,,,,,function(e,t,a){},function(e,t,a){var n={"./cloudy-day-1.svg":31,"./cloudy-day-2.svg":32,"./cloudy-day-3.svg":33,"./cloudy-night-1.svg":34,"./cloudy-night-2.svg":35,"./cloudy-night-3.svg":36,"./cloudy.svg":37,"./day.svg":38,"./night.svg":39,"./rainy-1.svg":40,"./rainy-2.svg":41,"./rainy-3.svg":42,"./rainy-4.svg":43,"./rainy-5.svg":44,"./rainy-6.svg":45,"./rainy-7.svg":46,"./snowy-1.svg":47,"./snowy-2.svg":48,"./snowy-3.svg":49,"./snowy-4.svg":50,"./snowy-5.svg":51,"./snowy-6.svg":52,"./thunder.svg":53,"./weather-sprite.svg":54,"./weather.svg":55,"./weather_sagittarius.svg":56,"./weather_sunset.svg":57};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=30},function(e,t,a){e.exports=a.p+"static/media/cloudy-day-1.80a5d865.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-day-2.b931d84d.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-day-3.109368f6.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-night-1.7e65840b.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-night-2.ef1c6aa1.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-night-3.bf91ac0f.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy.ad789581.svg"},function(e,t,a){e.exports=a.p+"static/media/day.7f93fbdb.svg"},function(e,t,a){e.exports=a.p+"static/media/night.a3f3f38d.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-1.f134a51c.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-2.35eb268d.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-3.c17e7a5d.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-4.c8cdb216.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-5.2bd23641.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-6.d235ab65.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy-7.c915395f.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-1.f78cba60.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-2.d103c77c.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-3.b6eea2cf.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-4.474b6da7.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-5.3def7c9f.svg"},function(e,t,a){e.exports=a.p+"static/media/snowy-6.67d63a14.svg"},function(e,t,a){e.exports=a.p+"static/media/thunder.7142c78b.svg"},function(e,t,a){e.exports=a.p+"static/media/weather-sprite.2738019d.svg"},function(e,t,a){e.exports=a.p+"static/media/weather.56c46d80.svg"},function(e,t,a){e.exports=a.p+"static/media/weather_sagittarius.166882bc.svg"},function(e,t,a){e.exports=a.p+"static/media/weather_sunset.cf01f54e.svg"},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(4),s=a(2),c=a(6),o=a(13),d=(a(28),a(5)),u=a(3),l=function(e){return{type:"INVALIDATE_WEATHER",cityName:e}},p=function(e){return{type:"REQUEST_WEATHER",cityName:e}};function y(e){var t,a={weekday:"short",month:"short",day:"2-digit"},n=[];for(var i in e)if(i%8===0){var r={},s=e[i],c=new Date(1e3*s.dt);r.dt=c.toLocaleString("en-US",a),r.temp=Math.round(s.main.temp),r.cond=(t=s.weather[0].id)>=200&&t<300?"thunder":t<500?"rainy-4":t<600?"rainy-6":t<700?"snowy-5":t<800?"cloudy-day-1":800===t?"day":"cloudy",n.push(r)}return n}var m=function(e){return function(t){return t(p),fetch("https://api.openweathermap.org/data/2.5/forecast?units=metric&q=".concat(e,"&appid=312b1bac995abc93b80f070e12bc0b95")).then((function(e){return e.json()})).then((function(a){t(function(e,t){return{type:"RECEIVE_WEATHER",cityName:e,weathers:y(t.list),getCityName:t.city.name,getCountryName:t.city.country,receivedAt:Date.now()}}(e,a))}))}},h=function(e){return function(t,a){if(function(e,t){if(e.weatherByCity.hasOwnProperty(t)){var a=e.weatherByCity[t];return!a.isFetching&&a.didInvalidate}return!0}(a(),e))return t(m(e))}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_WEATHER":return Object(u.a)({},e,{didInvalidate:!0});case"REQUEST_WEATHER":return Object(u.a)({},e,{didInvalidate:!1,isFetching:!0});case"RECEIVE_WEATHER":return Object(u.a)({},e,{didInvalidate:!1,isFetching:!1,lastUpdated:t.receivedAt,items:t.weathers,getCityName:t.getCityName,getCountryName:t.getCountryName});default:return e}},v=Object(s.c)({selectedCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ann arbor",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_CITY":case"SEARCH_CITY":return t.cityName;default:return e}},enteredCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTER_CITY":return t.content.toLowerCase();default:return e}},weatherByCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_WEATHER":case"REQUEST_WEATHER":case"RECEIVE_WEATHER":return Object(u.a)({},e,Object(d.a)({},t.cityName,f(e[t.cityName],t)));default:return e}}}),g=a(14),E=a(15),C=a(17),w=a(16),b=a(18),N=(a(29),a(1)),x=a.n(N),R=function(e){var t=e.cond,n=e.temp,r=e.dt;return i.a.createElement("div",{className:"weather-card"},i.a.createElement("div",{className:"weather-icon"},i.a.createElement("img",{src:a(30)("./"+t+".svg"),alt:"icon"})),i.a.createElement("h1",null,n,"\xba"),i.a.createElement("p",null,r))};R.protoTypes={cond:x.a.string.isRequired,temp:x.a.number.isRequired,dt:x.a.string.isRequired};var T=R,A=function(e){var t=e.weathers,a=e.getCityName,n=e.getCountryName,r=e.lastUpdated,s=e.handleRefresh;return i.a.createElement("div",{className:"weather-large"},i.a.createElement("div",{className:"weather-header"},i.a.createElement("h1",null,a,", ",n," "),i.a.createElement("span",null,"Last Updated: ",new Date(r).toLocaleTimeString()),i.a.createElement("button",{className:"refresh",onClick:function(e){return s(e)}}," ",i.a.createElement("i",{className:"fa fa-refresh fa-spin fa-2x fa-fw"}))),i.a.createElement("div",{className:"weather-wrapper"},t.map((function(e){return i.a.createElement(T,{dt:e.dt,temp:e.temp,cond:e.cond})}))))};A.protoTypes={weathers:x.a.array.isRequired,getCityName:x.a.string.isRequired,getCountryName:x.a.string.isRequired,handleRefresh:x.a.func.isRequired};var I=A,_=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).handleRefresh=function(e){e.preventDefault();var t=a.props,n=t.dispatch,i=t.selectedCity;n(l(i)),n(h(i))},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.selectedCity;t(h(a))}},{key:"componentDidUpdate",value:function(e){if(e.selectedCity!==this.props.selectedCity){var t=this.props,a=t.dispatch,n=t.selectedCity;a(h(n))}}},{key:"handleClick",value:function(e){console.log(e.target.value),this.props.dispatch({type:"SELECT_CITY",cityName:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,a=t.dispatch,n=t.enteredCity;a({type:"SEARCH_CITY",cityName:n}),a(h(this.props.selectedCity))}},{key:"handleChange",value:function(e){this.props.dispatch({type:"ENTER_CITY",content:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.weathers,n=t.getCityName,r=t.getCountryName,s=t.cityList,c=t.lastUpdated,o=t.isFetching,d=[];return s.forEach((function(t){d.push(i.a.createElement("li",null,i.a.createElement("button",{onClick:function(t){return e.handleClick(t)},value:t},t)))})),i.a.createElement("div",null,i.a.createElement("div",{className:"header-content"},i.a.createElement("nav",{className:"header-nav-wrap"},i.a.createElement("ul",{className:"header-nav"},i.a.createElement("li",null,i.a.createElement("button",null,"My Weather")),d,i.a.createElement("div",{className:"search-container"},i.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},i.a.createElement("input",{type:"text",value:this.props.enteredCity,onChange:function(t){return e.handleChange(t)}}),i.a.createElement("button",{type:"submit"},i.a.createElement("i",{className:"fa fa-search"}))))))),o?i.a.createElement("i",{className:"loading fa fa-spinner fa-spin fa-3x fa-fw"}):i.a.createElement(I,{weathers:a,getCityName:n,getCountryName:r,lastUpdated:c,handleRefresh:this.handleRefresh}))}}]),t}(n.Component),O=Object(c.b)((function(e){var t=e.selectedCity,a=e.enteredCity,n=e.weatherByCity,i=n[t]||{isFetching:!0,items:[],getCityName:"",getCountryName:""},r=i.isFetching,s=i.lastUpdated;return{selectedCity:t,enteredCity:a,weathers:i.items,isFetching:r,lastUpdated:s,getCityName:i.getCityName,getCountryName:i.getCountryName,cityList:Object.keys(n)}}))(_),j=[o.a];var k=Object(s.d)(v,s.a.apply(void 0,j));Object(r.render)(i.a.createElement(c.a,{store:k},i.a.createElement(O,null)),document.getElementById("root"))}]),[[19,1,2]]]);
//# sourceMappingURL=main.9aa475f9.chunk.js.map